#geohash

# 简介
GeoHash是一种地址编码方法。他能够把二维的空间经纬度数据编码成一个字符串。GeoHash具有以下特点：
1、GeoHash用一个字符串表示经度和纬度两个坐标。在数据库中可以实现在一列上应用索引
2、GeoHash表示的并不是一个点，而是一个区域；
3、GeoHash编码的前缀可以表示更大的区域。例如wx4g0ec1，它的前缀wx4g0e表示包含编码wx4g0ec1在内的更大范围。 这个特性可以用于附近地点搜索


## 计算方法
GeoHash的计算过程分为三步：
1、将经纬度转换成二进制：
比如这样一个点（39.923201, 116.390705）
纬度的范围是（-90，90），其中间值为0。对于纬度39.923201，在区间（0，90）中，因此得到一个1；（0，90）区间的中间值为45度，纬度39.923201小于45，因此得到一个0，依次计算下去，即可得到纬度的二进制表示，如下表：

最后得到纬度的二进制表示为：
10111000110001111001
同理可以得到经度116.390705的二进制表示为：
11010010110001000100
2、合并经度，纬度的二进制：
合并方法是将经度，纬度 交错排列，然后 5位一组。
11100 11101 00100 01111 00000 01101 01011 00001

3、按照Base32进行编码：
'0123456789bcdefghjkmnpqrstuvwxyz'
11100 换算到10进制 是28 对应编码表中的 第29位 w。其他类推
最后结果就是：wx4g0ec1


## 如何计算相邻的区域？

把经纬度的hash值解析成二进制的格式，然后拆解出经度和维度。 这俩值分别进行加减需要的范围。然后再拼接成 目标区域的 二进制。 最后进行32位编码即可。


## 如何找附近最近的点？
    1、在记录实际 经纬度 的前提下， 再把经纬度 进行 geohash 编码
    2、利用 geohash 找出相邻的 编码区域。
    3、同一编码区域内如果有多个点。那么，把这些点的 实际 经纬度坐标 值那出来， 然后和目标点进行一个简单的 求两点斜线距离。 找出最短的。
 