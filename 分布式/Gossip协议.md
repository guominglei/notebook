# Gossip 协议
    流行病传输协议。 用于分布式系统中，各个副本节点之间同步数据。

## 工作流程
    当一个节点有状态需要更新到网络中的其他节点时，随机的选取周围几个节点散布消息。
    收到消息的节点。再随机选取未收到此消息的（消息来源地不再备选之列）节点散布出去。待
    一定时间后。整个网络中数据节点之间的数据是一致的。一致性需要一个同步时间。

## 优势：
    1、扩展性：允许网络节点中任意节点增加和减少。
    2、容错性：任意节点的宕机重启都不影响gossip消息的传播。
    3、去中心化：所有节点是对等的。不需要中心节点。任何节点都无需知道整个网络的情况。
        就能发布消息。
    4、一致性收敛：以logN 的速度。达到网络中最终的一致性。有延时
    5、实现简单。

## 劣势：
    1、消息延迟：整个网络需要一定的数据一致性收敛时间。不适合对实时性高的场景。
    2、消息冗余：不排除一个节点多次收到同一份消息。

## gossip类型
    1、Anti-Entropy 反熵模式 SI model。（传播节点内的全量信息）
        网络中整体传输数据大。
    2、Runmor-Mongering 谣言模式 RIR model。（只传播节点新收到的增量信息）
        网路中传输的数据小。

## 节点间通信模式
    1、push (数据流为 A -> B)
        A节点将数据（key, value, version）推送给B节点。
        B节点根据key,version更新本地信息
    2、pull (数据流为 A <- B)
        A节点将数据(key, version)信息推送给B节点。
        B节点根据key, version 把比A数据新的推送给A节点。
    3、push/pull
        A节点将数据(key, version)信息推送给B节点。
        B节点根据key, version 把比A数据新的（key, value, version）推送给A节点。
        A节点再根据key,version 把比B数据新的（key, value, version）推送给B节点。

